<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Canada Trip 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F5F5F3; /* Êó•ÂºèÁ±≥ÁôΩ */
            color: #3E3E3E;
            -webkit-tap-highlight-color: transparent;
        }

        /* Èö±ËóèÊç≤Ëª∏‰ΩÜ‰øùÁïôÂäüËÉΩ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Êó•ÂºèÂç°ÁâáÈô∞ÂΩ± */
        .zen-shadow {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
        }

        /* Â∫ïÈÉ®Â∞éËà™Ê¨ÑÊ®°Á≥äÊïàÊûú */
        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        /* Ê®ôÁ±§Ê®£Âºè */
        .tag-food { background-color: #FEE2E2; color: #991B1B; } 
        .tag-photo { background-color: #E0E7FF; color: #3730A3; } 
        .tag-tips { background-color: #FEF3C7; color: #92400E; } 
        .tag-res { background-color: #D1FAE5; color: #065F46; } 
        
        /* ÂãïÁï´ */
        .fade-enter-active, .fade-leave-active { transition: opacity 0.5s; }
        .fade-enter-from, .fade-leave-to { opacity: 0; }
    </style>
</head>
<body>

<div id="app" class="h-screen flex flex-col overflow-hidden">

    <header class="pt-12 pb-4 px-6 bg-white z-10 sticky top-0 zen-shadow">
        <div class="flex justify-between items-end">
            <div>
                <p class="text-xs text-gray-400 tracking-widest uppercase mb-1">Travel Itinerary</p>
                <h1 class="text-2xl font-bold text-stone-800">Âä†ÊãøÂ§ßÊ•µÂÖâ‰πãÊóÖ</h1>
            </div>
            <div class="text-right">
                <div v-if="weatherLoading" class="animate-pulse text-stone-300">
                    <i class="fas fa-circle-notch fa-spin"></i>
                </div>
                <div v-else class="transition-all duration-500">
                    <div class="text-3xl text-stone-600"><i :class="weatherIcon"></i></div>
                    <p class="text-xs text-stone-500 mt-1 font-mono font-bold">{{ weatherTemp }}</p>
                    <p class="text-[10px] text-gray-300">{{ weatherCityName }} Now</p>
                </div>
            </div>
        </div>
        
        <div v-if="currentTab === 'schedule'" class="flex overflow-x-auto space-x-4 mt-6 pb-2 no-scrollbar">
            <div v-for="(day, index) in itinerary" :key="index" 
                 @click="changeDay(index)"
                 class="flex-shrink-0 flex flex-col items-center justify-center w-14 h-16 rounded-xl transition-all duration-300"
                 :class="activeDay === index ? 'bg-stone-800 text-white shadow-lg' : 'bg-white text-gray-400 border border-gray-100'">
                <span class="text-xs font-medium">Day</span>
                <span class="text-lg font-bold">{{ index + 1 }}</span>
            </div>
        </div>
    </header>

    <main class="flex-1 overflow-y-auto bg-[#F5F5F3] p-4 pb-24 no-scrollbar scroll-smooth">
        
        <div v-if="currentTab === 'schedule'">
            <div v-for="(day, dIndex) in itinerary" :key="dIndex">
                <div v-if="activeDay === dIndex" class="space-y-4 animate-fade-in">
                    
                    <div class="flex items-center space-x-2 mb-2 px-1">
                        <span class="text-sm font-bold text-stone-400">{{ day.date }}</span>
                        <span class="h-1 w-1 rounded-full bg-stone-300"></span>
                        <span class="text-sm font-medium text-stone-500">{{ day.weekday }}</span>
                        <span class="ml-auto text-xs px-2 py-1 rounded bg-stone-200 text-stone-600">
                            <i class="fas fa-map-marker-alt mr-1"></i>{{ day.city }}
                        </span>
                    </div>

                    <div v-for="(event, eIndex) in day.events" :key="eIndex" 
                         class="bg-white rounded-2xl p-5 zen-shadow border-l-4"
                         :class="getCategoryColor(event.type)">
                        
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex items-center space-x-2">
                                <span class="text-xs font-bold px-2 py-1 rounded bg-gray-100 text-gray-600">
                                    {{ event.time }}
                                </span>
                                <span v-if="event.tag" :class="getTagClass(event.tagType)" class="text-xs font-bold px-2 py-1 rounded">
                                    {{ event.tag }}
                                </span>
                            </div>
                            <button @click="openMap(event.location)" class="bg-blue-50 text-blue-500 w-8 h-8 rounded-full flex items-center justify-center hover:bg-blue-100 transition-colors shadow-sm active:scale-95">
                                <i class="fas fa-location-arrow text-sm"></i>
                            </button>
                        </div>

                        <h3 class="text-lg font-bold text-stone-800 mb-1 leading-snug">{{ event.title }}</h3>
                        <p class="text-sm text-gray-500 mb-3 flex items-center">
                            <i class="fas fa-map-pin w-4 text-center mr-1 text-xs"></i> {{ event.location }}
                        </p>

                        <div v-if="event.note" class="mt-3 pt-3 border-t border-dashed border-gray-100">
                            <p class="text-sm text-stone-600 leading-relaxed">
                                <span v-if="event.highlight" class="font-bold text-amber-600">
                                    <i class="fas fa-lightbulb mr-1"></i>
                                </span>
                                <span v-html="event.note"></span>
                            </p>
                        </div>
                        
                        <div v-if="event.mustList" class="mt-2 flex flex-wrap gap-2">
                            <span v-for="item in event.mustList" class="text-xs px-2 py-1 bg-red-50 text-red-600 rounded border border-red-100">
                                <i class="fas fa-thumbs-up mr-1"></i>{{ item }}
                            </span>
                        </div>
                    </div>
                    
                    <div class="mt-6 bg-stone-800 rounded-2xl p-5 text-white shadow-lg">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs uppercase tracking-wider text-stone-400">Tonight's Stay</span>
                            <i class="fas fa-bed text-stone-400"></i>
                        </div>
                        <div class="flex justify-between items-start">
                            <h3 class="font-bold text-lg leading-tight pr-4">{{ day.hotel }}</h3>
                            <button @click="openMap(day.hotel)" class="flex-shrink-0 w-10 h-10 flex items-center justify-center bg-stone-700 rounded-full hover:bg-stone-600 transition shadow-md active:scale-90 text-amber-400">
                                 <i class="fas fa-location-arrow text-lg"></i>
                            </button>
                        </div>
                    </div>
                    <div class="h-10"></div>
                </div>
            </div>
        </div>

        <div v-if="currentTab === 'tools'" class="space-y-6 animate-fade-in">
             
            <div class="bg-white rounded-2xl zen-shadow overflow-hidden">
                <div class="bg-stone-800 text-white px-5 py-3 flex justify-between items-center">
                    <span class="text-xs font-bold tracking-widest uppercase">Departure</span>
                    <span class="font-mono font-bold text-amber-400">BR010</span>
                </div>
                <div class="p-5">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <div class="text-3xl font-bold text-stone-800">TPE</div>
                            <div class="text-xs text-gray-500">Âè∞ÂåóÊ°ÉÂúí</div>
                        </div>
                        <i class="fas fa-plane text-stone-300 text-xl mb-2"></i>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-stone-800">YVR</div>
                            <div class="text-xs text-gray-500">Ê∫´Âì•ËèØ</div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                        <div>
                            <div class="text-xs text-gray-400">Date</div>
                            <div class="font-bold text-stone-700">Feb 18 (Wed)</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-400">Time</div>
                            <div class="font-bold text-stone-700">23:55 - 18:35</div>
                        </div>
                    </div>

                    <div class="border-t border-dashed border-gray-200 my-4"></div>

                    <div class="grid grid-cols-2 gap-4 text-xs">
                        <div>
                            <div class="text-gray-400"><i class="fas fa-building mr-1"></i>Ëà™Âªà</div>
                            <div class="font-bold text-stone-800">T2 Á¨¨‰∫åËà™Âªà</div>
                        </div>
                         <div>
                            <div class="text-gray-400"><i class="fas fa-suitcase mr-1"></i>Ë°åÊùéËΩâÁõ§</div>
                            <div class="font-bold text-stone-800">YVR Intl Arrivals</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl zen-shadow overflow-hidden">
                <div class="bg-stone-600 text-white px-5 py-3 flex justify-between items-center">
                    <span class="text-xs font-bold tracking-widest uppercase">Domestic</span>
                    <span class="font-mono font-bold text-white">YVR-YZF</span>
                </div>
                <div class="p-5">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <div class="text-3xl font-bold text-stone-800">YVR</div>
                            <div class="text-xs text-gray-500">Ê∫´Âì•ËèØ</div>
                        </div>
                        <i class="fas fa-plane text-stone-300 text-xl mb-2"></i>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-stone-800">YZF</div>
                            <div class="text-xs text-gray-500">ÈªÉÂàÄÈéÆ</div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-400 mb-4 bg-gray-50 p-2 rounded">
                        <i class="fas fa-info-circle mr-1"></i>Á∂ì Edmonton (YEG) ËΩâÊ©ü
                    </div>
                    
                     <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                        <div>
                            <div class="text-xs text-gray-400">Date</div>
                            <div class="font-bold text-stone-700">Feb 24 (Tue)</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-400">Time</div>
                            <div class="font-bold text-stone-700">15:45 - 20:57</div>
                        </div>
                    </div>
                     <div class="border-t border-dashed border-gray-200 my-4"></div>
                     <div class="grid grid-cols-2 gap-4 text-xs">
                        <div>
                            <div class="text-gray-400"><i class="fas fa-building mr-1"></i>Âá∫ÁôºËà™Âªà</div>
                            <div class="font-bold text-stone-800">Main (Domestic)</div>
                        </div>
                         <div>
                            <div class="text-gray-400"><i class="fas fa-suitcase mr-1"></i>Ë°åÊùéËΩâÁõ§</div>
                            <div class="font-bold text-stone-800">YZF Arrivals</div>
                        </div>
                    </div>
                </div>
            </div>

             <div class="bg-white rounded-2xl zen-shadow overflow-hidden">
                <div class="bg-stone-600 text-white px-5 py-3 flex justify-between items-center">
                    <span class="text-xs font-bold tracking-widest uppercase">Domestic Return</span>
                    <span class="font-mono font-bold text-white">YZF-YVR</span>
                </div>
                <div class="p-5">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <div class="text-3xl font-bold text-stone-800">YZF</div>
                            <div class="text-xs text-gray-500">ÈªÉÂàÄÈéÆ</div>
                        </div>
                        <i class="fas fa-plane text-stone-300 text-xl mb-2"></i>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-stone-800">YVR</div>
                            <div class="text-xs text-gray-500">Ê∫´Âì•ËèØ</div>
                        </div>
                    </div>
                    
                     <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                        <div>
                            <div class="text-xs text-gray-400">Date</div>
                            <div class="font-bold text-stone-700">Feb 28 (Sat)</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-400">Time</div>
                            <div class="font-bold text-stone-700">05:25 - 07:17</div>
                        </div>
                    </div>
                     <div class="border-t border-dashed border-gray-200 my-4"></div>
                     <div class="grid grid-cols-2 gap-4 text-xs">
                        <div>
                            <div class="text-gray-400"><i class="fas fa-building mr-1"></i>Âá∫ÁôºËà™Âªà</div>
                            <div class="font-bold text-stone-800">YZF Main</div>
                        </div>
                         <div>
                            <div class="text-gray-400"><i class="fas fa-suitcase mr-1"></i>Ë°åÊùéËΩâÁõ§</div>
                            <div class="font-bold text-stone-800">YVR Domestic</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl zen-shadow overflow-hidden">
                <div class="bg-stone-800 text-white px-5 py-3 flex justify-between items-center">
                    <span class="text-xs font-bold tracking-widest uppercase">Return</span>
                    <span class="font-mono font-bold text-amber-400">BR009</span>
                </div>
                <div class="p-5">
                    <div class="flex justify-between items-end mb-4">
                        <div>
                            <div class="text-3xl font-bold text-stone-800">YVR</div>
                            <div class="text-xs text-gray-500">Ê∫´Âì•ËèØ</div>
                        </div>
                        <i class="fas fa-plane text-stone-300 text-xl mb-2"></i>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-stone-800">TPE</div>
                            <div class="text-xs text-gray-500">Âè∞ÂåóÊ°ÉÂúí</div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 text-sm mb-4">
                        <div>
                            <div class="text-xs text-gray-400">Date</div>
                            <div class="font-bold text-stone-700">Mar 01 (Sun)</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-400">Time</div>
                            <div class="font-bold text-stone-700">00:15 - 05:15(+1)</div>
                        </div>
                    </div>

                    <div class="border-t border-dashed border-gray-200 my-4"></div>

                    <div class="grid grid-cols-2 gap-4 text-xs">
                        <div>
                            <div class="text-gray-400"><i class="fas fa-building mr-1"></i>Âá∫ÁôºËà™Âªà</div>
                            <div class="font-bold text-stone-800">Main (Intl)</div>
                        </div>
                         <div>
                            <div class="text-gray-400"><i class="fas fa-suitcase mr-1"></i>ÊäµÈÅîËà™Âªà</div>
                            <div class="font-bold text-stone-800">TPE T2</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl p-5 zen-shadow">
                <h3 class="font-bold text-lg mb-4 border-b pb-2">üí∞ Âø´ÈÄüË®òÂ∏≥</h3>
                <div class="flex gap-2 mb-4">
                    <input type="text" placeholder="È†ÖÁõÆ" v-model="newExpenseName" class="flex-1 bg-gray-50 border-none rounded-lg p-3 text-sm focus:ring-1 focus:ring-stone-400">
                    <input type="number" placeholder="$CAD" v-model="newExpenseAmount" class="w-24 bg-gray-50 border-none rounded-lg p-3 text-sm focus:ring-1 focus:ring-stone-400">
                </div>
                <button @click="addExpense" class="w-full bg-stone-800 text-white py-3 rounded-xl font-bold text-sm shadow-lg active:scale-95 transition-transform">
                    Êñ∞Â¢ûÊîØÂá∫
                </button>
                <div class="mt-6 space-y-2">
                    <div v-for="(exp, index) in expenses" :key="index" class="flex justify-between text-sm py-2 border-b border-gray-50">
                        <span>{{ exp.name }}</span>
                        <span class="font-mono font-bold text-stone-600">${{ exp.amount }}